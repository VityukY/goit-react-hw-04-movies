(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{64:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(33),s=n.n(c),i=n(5),o=n(6),u=n(8),l=n(7),h=n(2),v=n(13),j={home:"/",movies:"/movies",movieDetauls:"/movies/:movieId",movieQuery:"movies?query=:query",cast:"/movies/:movieId/cast",reviews:"/movies/:movieId/reviews"},p=n(0),b=function(){return Object(p.jsxs)("nav",{className:"linkList",children:[Object(p.jsx)(v.c,{exact:!0,to:j.home,className:"navLink",activeClassName:"navLink__active",children:"Home Page"}),Object(p.jsx)(v.c,{exact:!0,to:j.movies,className:"navLink",activeClassName:"navLink__active",children:"Search Movie"})]})},d=function(){return Object(p.jsx)("header",{children:Object(p.jsx)(b,{})})},m=n(18),f=n(4),O=n.n(f),x=n(14),g=n(15),w=n.n(g);w.a.defaults.baseURL="https://api.themoviedb.org",w.a.defaults.params={api_key:"0e0748a6c8b324a098ac6737209de7e8"};var y={Trends:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n,a=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,w.a.get("/3/trending/movie/week?page=".concat(t));case 4:return n=e.sent,e.abrupt("return",n.data.results);case 8:e.prev=8,e.t0=e.catch(1),console.log("error",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),MovieDetails:function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("error",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Cast:function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("error",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Reviews:function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US&language=en-US&page=1"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("error",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Movies:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://api.themoviedb.org/3/search/movie?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US&query=".concat(t,"&page=").concat(n,"&include_adult=false"));case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},k=n.p+"static/media/movie_strip.0fe35ade.jpg",C=function(e){var t=e.id,n=e.title,a=e.backdrop_path,r=a?"https://image.tmdb.org/t/p/w500".concat(a):k;return Object(p.jsxs)("li",{className:"movieCard",children:[Object(p.jsxs)("h1",{className:"movieCard_title",children:[" ",n]}),Object(p.jsx)("img",{src:r,alt:n,className:"movieCard_images"})]},t)},S=Object(h.f)((function(e){var t=e.movies,n=e.location;return Object(p.jsx)("ul",{className:"movieList",children:t.map((function(e){var t=e.id,a=e.title,r=e.backdrop_path;return Object(p.jsx)(v.b,{to:{pathname:"/movies/".concat(t),state:{from:n}},className:"link",children:Object(p.jsx)(C,{id:t,title:a,backdrop_path:r})},t)}))})})),N=function(e){var t=e.action,n=e.children;return Object(p.jsx)("div",{className:"btnContaine",children:Object(p.jsx)("button",{type:"button",onClick:t,children:n})})},_=function(e){var t=e.movies,n=e.action;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S,{movies:t}),Object(p.jsx)(N,{action:n,children:"Load More"})]})},M=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],page:1},e.fetchTrends=function(){y.Trends(e.state.page).then((function(t){return e.setState((function(e){return{page:e.page+1,movies:[].concat(Object(m.a)(e.movies),Object(m.a)(t))}}))}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchTrends()}},{key:"render",value:function(){var e=this.state.movies;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:" Week Trends"}),e.length>0&&Object(p.jsx)(_,{movies:e,action:this.fetchTrends})]})}}]),n}(a.Component),D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.changeHandler=function(t){e.setState({query:t.currentTarget.value})},e.submitHandler=function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.props.submitFormHandler(e.state.query);case 3:e.setState({query:""});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:" Your choise"}),Object(p.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(p.jsx)("input",{value:this.state.query,onChange:this.changeHandler}),Object(p.jsx)("button",{type:"submit",children:"Search"})]})]})}}]),n}(a.Component),F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",page:1,movies:[]},e.submitFormHandler=function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({movies:[],page:1,query:n});case 2:e.fetchMovies(e.state.page);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchMovies=function(){y.Movies(e.state.query,e.state.page).then((function(t){return e.setState((function(e){return{movies:[].concat(Object(m.a)(e.movies),Object(m.a)(t)),page:e.page+1}}))}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.movies;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D,{submitFormHandler:this.submitFormHandler}),e.length>0&&Object(p.jsx)(_,{movies:e,action:this.fetchMovies})]})}}]),n}(a.Component),T=n(17),q=function(e){var t=e.title,n=e.overview,a=e.poster;return Object(p.jsxs)("div",{className:"MovieDetailsContainer",children:[Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(a),alt:t,height:"400"}),Object(p.jsxs)("div",{className:"MovieDetailsDescription",children:[Object(p.jsx)("h1",{children:t}),Object(p.jsx)("p",{children:n})]})]})},I=function(e){var t=e.name,n=e.src;return Object(p.jsxs)("li",{className:"actorContainer",children:[Object(p.jsx)("h3",{className:"actorName",children:t}),Object(p.jsx)("img",{width:"100",height:"150",src:n,alt:t})]})},L=n.p+"static/media/unknown.850b6605.jpg",A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={actors:e.props.cast},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"castinContainer",children:[Object(p.jsx)("h1",{className:"castinTitle",children:"Cast "}),this.state.actors&&Object(p.jsx)("ul",{className:"castList",children:this.state.actors.map((function(e){var t=e.cast_id,n=e.name,a=e.profile_path;return Object(p.jsx)(I,{name:n,src:a?"https://image.tmdb.org/t/p/w500".concat(a):L},t)}))})]})}}]),n}(a.Component),H=function(e){var t=e.author,n=e.content;return Object(p.jsxs)("li",{className:"reviewContainer",children:[Object(p.jsx)("h3",{children:t}),Object(p.jsxs)("p",{children:[" ",n]})]})},R=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Reviews "}),this.props.reviews.length>0?Object(p.jsx)("ul",{className:"castList",children:this.props.reviews.map((function(e){var t=e.id,n=e.author,a=e.content;return Object(p.jsx)(H,{id:t,author:n,content:a},t)}))}):Object(p.jsx)("h3",{children:" 'We have no reviews for this movie'"})]})}}]),n}(a.Component),U=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={castShow:!1,reviewsShow:!1},e.castToogle=function(){e.setState((function(e){return{castShow:!e.castShow,reviewsShow:!1}}))},e.reviewsToogle=function(){e.setState((function(e){return{reviewsShow:!e.reviewsShow,castShow:!1}}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.cast,a=e.reviews,r=this.state,c=r.castShow,s=r.reviewsShow;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"additionalInformation",children:[Object(p.jsx)(v.c,{to:"/movies/".concat(t,"/cast"),children:Object(p.jsx)("button",{type:"button",onClick:this.castToogle,children:c?"Close Cast":"Open Cast"})}),Object(p.jsx)(v.c,{to:"/movies/".concat(t,"/reviews"),children:Object(p.jsx)("button",{type:"button",onClick:this.reviewsToogle,children:s?"Close Reviews":"Open Reviews"})})]}),Object(p.jsxs)("div",{children:[c&&Object(p.jsx)(h.a,{path:j.cast,render:function(e){return Object(p.jsx)(A,Object(T.a)(Object(T.a)({},e),{},{cast:n}))}}),s&&Object(p.jsx)(h.a,{path:j.reviews,render:function(e){return Object(p.jsx)(R,Object(T.a)(Object(T.a)({},e),{},{reviews:a}))}})]})]})}}]),n}(a.Component),J=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movieId:e.props.match.params.movieId,title:null,poster_path:null,overview:null,cast:null,reviews:null},e.featchMovieDetails=function(){y.MovieDetails(e.state.movieId).then((function(t){return e.setState(Object(T.a)({},t.data))}))},e.fetchCast=function(){y.Cast(e.state.movieId).then((function(t){return e.setState({cast:t.data.cast})}))},e.fetchReviews=function(){y.Reviews(e.state.movieId).then((function(t){return e.setState({reviews:t.data.results})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.featchMovieDetails(),this.fetchCast(),this.fetchReviews()}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.overview,r=t.poster_path,c=t.cast,s=t.reviews,i=t.movieId;return Object(p.jsx)(p.Fragment,{children:this.state.title&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{action:function(){return e.props.history.push(e.props.location.state.from)},children:"go back"}),Object(p.jsx)(q,{title:n,overview:a,poster:r}),Object(p.jsx)(U,{cast:c,reviews:s,id:i})]})})}}]),n}(a.Component),W=(n(64),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(d,{}),Object(p.jsxs)(h.c,{children:[Object(p.jsx)(h.a,{path:j.movieDetauls,component:J}),Object(p.jsx)(h.a,{path:j.movies,component:F}),Object(p.jsx)(h.a,{path:j.home,component:M})]})]})}}]),n}(a.Component));n(65);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(v.a,{children:Object(p.jsx)(W,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.edfbc1eb.chunk.js.map