(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{64:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(33),s=n.n(c),i=n(5),o=n(6),u=n(8),l=n(7),h=n(13),j=n(2),v=n(18),p=n(4),b=n.n(p),d=n(14),m=n(15),f=n.n(m);f.a.defaults.baseURL="https://api.themoviedb.org",f.a.defaults.params={api_key:"0e0748a6c8b324a098ac6737209de7e8"};var O={Trends:function(){var e=Object(d.a)(b.a.mark((function e(){var t,n,a=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,f.a.get("/3/trending/movie/week?page=".concat(t));case 4:return n=e.sent,e.abrupt("return",n.data.results);case 8:e.prev=8,e.t0=e.catch(1),console.log("error",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),MovieDetails:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("error",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Cast:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("error",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Reviews:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US&language=en-US&page=1"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log("error",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Movies:function(){var e=Object(d.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.themoviedb.org/3/search/movie?api_key=0e0748a6c8b324a098ac6737209de7e8&language=en-US&query=".concat(t,"&page=").concat(n,"&include_adult=false"));case 2:return a=e.sent,e.abrupt("return",a.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},g=n.p+"static/media/film_strip.0fe35ade.jpg",x=n(0),w=function(e){var t=e.id,n=e.title,a=e.backdrop_path,r=e.overview,c=a?"https://image.tmdb.org/t/p/w500".concat(a):g,s=r.slice(0,170);return Object(x.jsxs)("li",{className:"filmCard",children:[Object(x.jsxs)("h1",{className:"filmCard_title",children:[" ",n]}),Object(x.jsx)("img",{src:c,alt:n,className:" cardFilm_images"}),Object(x.jsx)("p",{className:"description",children:"".concat(s,"...")})]},t)},y=function(e){var t=e.movies;return Object(x.jsx)("ul",{className:"filmList",children:t.map((function(e){return Object(x.jsx)(h.b,{to:"/movies/".concat(e.id),className:"link",children:Object(x.jsx)(w,{id:e.id,title:e.title,backdrop_path:e.backdrop_path,overview:e.overview})},e.id)}))})},k=function(e){var t=e.action,n=e.children;return Object(x.jsx)("div",{className:"btnContaine",children:Object(x.jsx)("button",{type:"button",onClick:t,children:n})})},C=function(e){var t=e.movies,n=e.action;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{movies:t}),Object(x.jsx)(k,{action:n,children:"Load More"})]})},S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],page:1},e.fetchTrends=function(){O.Trends(e.state.page).then((function(t){return e.setState((function(e){return{page:e.page+1,movies:[].concat(Object(v.a)(e.movies),Object(v.a)(t))}}))}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.fetchTrends()}},{key:"render",value:function(){var e=this.state.movies;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:" Week Trends"}),e.length>0&&Object(x.jsx)(C,{movies:e,action:this.fetchTrends})]})}}]),n}(a.Component),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.changeHandler=function(t){e.setState({query:t.currentTarget.value})},e.submitHandler=function(){var t=Object(d.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.submitFormHandler(e.state.query),e.setState({query:""});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:" Your choise"}),Object(x.jsxs)("form",{onSubmit:this.submitHandler,children:[Object(x.jsx)("input",{value:this.state.query,onChange:this.changeHandler}),Object(x.jsx)("button",{type:"submit",children:" Search "})]})]})}}]),n}(a.Component),_=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",page:1,movies:[]},e.submitFormHandler=function(){var t=Object(d.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({movies:[],page:1,query:n});case 2:e.fetchMovies(e.state.page);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchMovies=function(){O.Movies(e.state.query,e.state.page).then((function(t){return e.setState((function(e){return{movies:[].concat(Object(v.a)(e.movies),Object(v.a)(t)),page:e.page+1}}))}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.movies;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(N,{submitFormHandler:this.submitFormHandler}),e.length>0&&Object(x.jsx)(C,{movies:e,action:this.fetchMovies})]})}}]),n}(a.Component),M=n(17),F=function(e){var t=e.title,n=e.overview,a=e.poster;return Object(x.jsxs)("div",{className:"MovieDetailsContainer",children:[Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(a),alt:t,height:"400"}),Object(x.jsxs)("div",{className:"MovieDetailsDescription",children:[Object(x.jsx)("h1",{children:t}),Object(x.jsx)("p",{children:n})]})]})},T=function(e){var t=e.name,n=e.src;return Object(x.jsxs)("li",{className:"actorContainer",children:[Object(x.jsx)("h3",{className:"actorName",children:t}),Object(x.jsx)("img",{width:"100",height:"150",src:n,alt:t})]})},I=n.p+"static/media/unknown.850b6605.jpg",D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={actors:e.props.cast},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"castinContainer",children:[Object(x.jsx)("h1",{className:"castinTitle",children:"Cast "}),this.state.actors&&Object(x.jsx)("ul",{className:"castList",children:this.state.actors.map((function(e){return Object(x.jsx)(T,{name:e.name,src:e.profile_path?"https://image.tmdb.org/t/p/w500".concat(e.profile_path):I},e.cast_id)}))})]})}}]),n}(a.Component),L=function(e){var t=e.author,n=e.content;return Object(x.jsxs)("li",{className:"reviewContainer",children:[Object(x.jsx)("h3",{children:t}),Object(x.jsxs)("p",{children:[" ",n]})]})},q=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Reviews "}),this.props.reviews.length>0?Object(x.jsx)("ul",{className:"castList",children:this.props.reviews.map((function(e){return Object(x.jsx)(L,{id:e.id,author:e.author,content:e.content},e.id)}))}):Object(x.jsx)("h3",{children:" 'We have no reviews for this film'"})]})}}]),n}(a.Component),A=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={castShow:!1,reviewsShow:!1},e.castToogle=function(){e.setState((function(e){return{castShow:!e.castShow,reviewsShow:!1}}))},e.reviewsToogle=function(){e.setState((function(e){return{reviewsShow:!e.reviewsShow,castShow:!1}}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.cast,a=e.reviews,r=this.state,c=r.castShow,s=r.reviewsShow;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"additionalInformation",children:[Object(x.jsx)(h.c,{to:"/movies/".concat(t,"/cast"),children:Object(x.jsx)("button",{type:"button",onClick:this.castToogle,children:c?"Close Cast":"Open Cast"})}),Object(x.jsx)(h.c,{to:"/movies/".concat(t,"/reviews"),children:Object(x.jsx)("button",{type:"button",onClick:this.reviewsToogle,children:s?"Close Reviews":"Open Reviews"})})]}),Object(x.jsxs)("div",{children:[c&&Object(x.jsx)(j.a,{path:"/movies/:movieId/cast",render:function(e){return Object(x.jsx)(D,Object(M.a)(Object(M.a)({},e),{},{cast:n}))}}),s&&Object(x.jsx)(j.a,{path:"/movies/:movieId/reviews",render:function(e){return Object(x.jsx)(q,Object(M.a)(Object(M.a)({},e),{},{reviews:a}))}})]})]})}}]),n}(a.Component),H=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movieId:e.props.match.params.movieId,title:null,poster_path:null,overview:null,cast:null,reviews:null},e.featchMovieDetails=function(){O.MovieDetails(e.state.movieId).then((function(t){return e.setState(Object(M.a)({},t.data))}))},e.fetchCast=function(){O.Cast(e.state.movieId).then((function(t){return e.setState({cast:t.data.cast})}))},e.fetchReviews=function(){O.Reviews(e.state.movieId).then((function(t){return e.setState({reviews:t.data.results})}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.featchMovieDetails(),this.fetchCast(),this.fetchReviews()}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.overview,a=e.poster_path,r=e.cast,c=e.reviews,s=e.movieId;return Object(x.jsx)(x.Fragment,{children:this.state.title&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{type:"button",onClick:this.props.history.goBack,children:"go back"}),Object(x.jsx)(F,{title:t,overview:n,poster:a}),Object(x.jsx)(A,{cast:r,reviews:c,id:s})]})})}}]),n}(a.Component),R=(n(64),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("ul",{className:"linkList",children:[Object(x.jsx)("li",{children:Object(x.jsx)(h.c,{exact:!0,to:"/",className:"navLink",activeClassName:"navLink__active",children:"Home Page"})}),Object(x.jsx)("li",{children:Object(x.jsx)(h.c,{to:"/movies",className:"navLink",activeClassName:"navLink__active",children:"Search Movie"})})]}),Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{path:"/movies/:movieId",component:H}),Object(x.jsx)(j.a,{path:"/movies",component:_}),Object(x.jsx)(j.a,{path:"",component:S})]})]})}}]),n}(a.Component));n(65);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(h.a,{children:Object(x.jsx)(R,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.61325d17.chunk.js.map